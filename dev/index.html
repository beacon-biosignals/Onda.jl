<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Documentation · Onda</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Onda</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>API Documentation</a><ul class="internal"><li><a class="tocitem" href="#Dataset-1"><span><code>Dataset</code></span></a></li><li><a class="tocitem" href="#Onda-Metadata-Objects-1"><span>Onda Metadata Objects</span></a></li><li><a class="tocitem" href="#Samples-1"><span><code>Samples</code></span></a></li><li><a class="tocitem" href="#AbstractTimeSpan-1"><span><code>AbstractTimeSpan</code></span></a></li><li><a class="tocitem" href="#Serialization-1"><span>Serialization</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Documentation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Documentation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/beacon-biosignals/Onda.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Documentation-1"><a class="docs-heading-anchor" href="#API-Documentation-1">API Documentation</a><a class="docs-heading-anchor-permalink" href="#API-Documentation-1" title="Permalink"></a></h1><p>Below is the documentation for all functions exported by Onda.jl. For general information regarding the Onda format, please see <a href="https://github.com/beacon-biosignals/OndaFormat">beacon-biosignals/OndaFormat</a>.</p><p>Note that Onda.jl&#39;s API follows a specific philosophy with respect to property access: users are generally expected to access fields via Julia&#39;s <code>object.fieldname</code> syntax, but should only <em>mutate</em> objects via the exposed API methods documented below.</p><h2 id="Dataset-1"><a class="docs-heading-anchor" href="#Dataset-1"><code>Dataset</code></a><a class="docs-heading-anchor-permalink" href="#Dataset-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Onda.Dataset" href="#Onda.Dataset"><code>Onda.Dataset</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Dataset(path, custom_type=Any; create=false, strict=())</code></pre><p>Return a <code>Dataset</code> instance that contains all metadata necessary to read and write to the Onda dataset stored at <code>path</code>. Note that this constuctor loads all the <code>Recording</code> objects contained in <code>path/recordings.msgpack.zst</code>.</p><p><code>custom_type</code> is the <code>typeof</code> of the <code>custom</code> value found in each <code>Recording</code> object in the dataset.</p><p>If <code>create</code> is <code>true</code>, then an empty Onda dataset will be created at <code>path</code>.</p><p>The <code>strict</code> keyword argument is forwarded to <code>MsgPack.unpack</code> when that function is called while parsing <code>path/recordings.msgpack.zst</code> (see the MsgPack documentation for details regarding <code>strict</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/dataset.jl#L11-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.create_recording!" href="#Onda.create_recording!"><code>Onda.create_recording!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_recording!(dataset::Dataset{C}, duration::Nanosecond, custom=nothing)</code></pre><p>Create <code>uuid::UUID =&gt; recording::Recording</code> where <code>recording</code> is constructed via the provided <code>duration</code> and <code>custom</code> fields, add the pair to <code>dataset.recordings</code>, and return the pair.</p><p>The <code>custom</code> argument is passed along to the <code>Recording{C}</code> constructor, such that <code>custom isa C</code> must hold true.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/dataset.jl#L100-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.load" href="#Onda.load"><code>Onda.load</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">load(dataset::Dataset, uuid::UUID, name::Symbol[, span::AbstractTimeSpan])</code></pre><p>Load and return the <code>Samples</code> object corresponding to the signal named <code>name</code> in the recording specified by <code>uuid</code>.</p><p>If <code>span</code> is provided, this function returns the equivalent of <code>load(dataset, uuid, name)[:, span]</code>, but potentially avoids loading the entire signal&#39;s worth of sample data if the underlying signal file format supports partial access/random seeks.</p><p>See also: <a href="#Onda.deserialize_lpcm"><code>deserialize_lpcm</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/dataset.jl#L123-L135">source</a></section><section><div><pre><code class="language-none">load(dataset::Dataset, uuid::UUID, names[, span::AbstractTimeSpan])</code></pre><p>Return <code>Dict(name =&gt; load(dataset, uuid, name[, span]) for name in names)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/dataset.jl#L142-L146">source</a></section><section><div><pre><code class="language-none">load(dataset::Dataset, uuid::UUID[, span::AbstractTimeSpan])</code></pre><p>Return <code>load(dataset, uuid, names[, span])</code> where <code>names</code> is a list of all signal names in the recording specified by <code>uuid</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/dataset.jl#L151-L156">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.store!" href="#Onda.store!"><code>Onda.store!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">store!(dataset::Dataset, uuid::UUID, name::Symbol, samples::Samples;
       overwrite::Bool=true)</code></pre><p>Add <code>name =&gt; samples.signal</code> to <code>dataset.recordings[uuid].signals</code> and serialize <code>samples.data</code> to the proper file location within <code>dataset.path</code>.</p><p>If <code>overwrite</code> is <code>false</code>, an error is thrown if <code>samples</code> already exists in <code>recording</code>/<code>dataset</code>. Otherwise, existing entries matching <code>samples.signal</code> will be deleted and replaced with <code>samples</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/dataset.jl#L165-L175">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.delete!" href="#Base.delete!"><code>Base.delete!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">delete!(dataset::Dataset, uuid::UUID)</code></pre><p>Delete the recording whose UUID matches <code>uuid</code> from <code>dataset</code>. This function removes the matching <code>Recording</code> object from <code>dataset.recordings</code>, as well as deletes the corresponding subdirectory in the <code>dataset</code>&#39;s <code>recordings</code> directory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/dataset.jl#L193-L199">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.save_recordings_file" href="#Onda.save_recordings_file"><code>Onda.save_recordings_file</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">save_recordings_file(dataset::Dataset)</code></pre><p>Overwrite <code>joinpath(dataset.path, &quot;recordings.msgpack.zst&quot;)</code> with the contents of <code>dataset.recordings</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/dataset.jl#L45-L50">source</a></section></article><h2 id="Onda-Metadata-Objects-1"><a class="docs-heading-anchor" href="#Onda-Metadata-Objects-1">Onda Metadata Objects</a><a class="docs-heading-anchor-permalink" href="#Onda-Metadata-Objects-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Onda.Signal" href="#Onda.Signal"><code>Onda.Signal</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Signal</code></pre><p>A type representing an individual Onda signal object. Instances contain the following fields, following the Onda specification for signal objects:</p><ul><li><code>channel_names::Vector{Symbol}</code></li><li><code>sample_unit::Symbol</code></li><li><code>sample_resolution_in_unit::Float64</code></li><li><code>sample_type::DataType</code></li><li><code>sample_rate::UInt64</code></li><li><code>file_extension::Symbol</code></li><li><code>file_options::Union{Nothing,Dict{Symbol,Any}}</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/3af96bcefcb0aec559d4652fd75e1bc3fcfe99da/base/#L0-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.signal_from_template" href="#Onda.signal_from_template"><code>Onda.signal_from_template</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">signal_from_template(signal::Signal;
                     channel_names=signal.channel_names,
                     sample_unit=signal.sample_unit,
                     sample_resolution_in_unit=signal.sample_resolution_in_unit,
                     sample_type=signal.sample_type,
                     sample_rate=signal.sample_rate,
                     file_extension=signal.file_extension,
                     file_options=signal.file_options)</code></pre><p>Return a <code>Signal</code> where each field is mapped to the corresponding keyword argument.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/recordings.jl#L126-L137">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.Annotation" href="#Onda.Annotation"><code>Onda.Annotation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Annotation &lt;: AbstractTimeSpan</code></pre><p>A type representing an individual Onda annotation object. Instances contain the following fields, following the Onda specification for annotation objects:</p><ul><li><code>key::String</code></li><li><code>value::String</code></li><li><code>start_nanosecond::Nanosecond</code></li><li><code>stop_nanosecond::Nanosecond</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/recordings.jl#L53-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.Recording" href="#Onda.Recording"><code>Onda.Recording</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Recording{C}</code></pre><p>A type representing an individual Onda recording object. Instances contain the following fields, following the Onda specification for recording objects:</p><ul><li><code>duration_in_nanoseconds::Nanosecond</code></li><li><code>signals::Dict{Symbol,Signal}</code></li><li><code>annotations::Set{Annotation}</code></li><li><code>custom::C</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/recordings.jl#L178-L188">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.annotate!" href="#Onda.annotate!"><code>Onda.annotate!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">annotate!(recording::Recording, annotation::Annotation)</code></pre><p>Returns <code>push!(recording.annotations, annotation)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/recordings.jl#L202-L206">source</a></section></article><h2 id="Samples-1"><a class="docs-heading-anchor" href="#Samples-1"><code>Samples</code></a><a class="docs-heading-anchor-permalink" href="#Samples-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Onda.Samples" href="#Onda.Samples"><code>Onda.Samples</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Samples(signal::Signal, encoded::Bool, data::AbstractMatrix)</code></pre><p>Return a <code>Samples</code> instance with the following fields:</p><ul><li><p><code>signal::Signal</code>: The <code>Signal</code> object that describes the <code>Samples</code> instance.</p></li><li><p><code>encoded::Bool</code>: If <code>true</code>, the values in <code>data</code> are LPCM-encoded as  prescribed by the <code>Samples</code> instance&#39;s <code>signal</code>. If <code>false</code>, the values in  <code>data</code> have been decoded into the <code>signal</code>&#39;s canonical units.</p></li><li><p><code>data::AbstractMatrix</code>: A matrix of sample data. The <code>i</code> th row of the matrix  corresponds to the <code>i</code>th channel in <code>signal.channel_names</code>, while the <code>j</code>th  column corresponds to the <code>j</code>th multichannel sample.</p></li></ul><p>Note that <code>getindex</code> and <code>view</code> are defined on <code>Samples</code> to accept normal integer indices, but also accept channel names for row indices and <a href="#Onda.TimeSpan"><code>TimeSpan</code></a> values for column indices:</p><pre><code class="language-none">julia&gt; eeg
Samples (00:43:11.062500000):
  signal.channel_names: [:fp1, :f3, :c3, :p3, :f7, :t3, :t5, :o1, :fz, :cz,
                         :pz, :fp2, :f4, :c4, :p4, :f8, :t4, :t6, :o2]
  signal.sample_unit: :microvolt
  signal.sample_resolution_in_unit: 0.25
  signal.sample_type: Int16
  signal.sample_rate: 128 Hz
  signal.file_extension: :zst
  signal.file_options: nothing
  encoded: true
  data:
19×331656 Array{Int16,2}:
 -421  -416    51  -229  …   -164   -318   -644
 -866  -860  -401  -684     -1665  -1805  -2139
 -809  -776  -320  -641     -1402  -1571  -1892
 -698  -642  -191  -522     -1391  -1585  -1891
 -801  -778  -307  -622     -1275  -1452  -1771
 -340  -297   168  -160  …  -1012  -1202  -1514
 -594  -544   -86  -410      -802   -982  -1298
 -254  -180   270   -68        68   -141   -435
 -567  -547   -86  -396     -1439  -1602  -1924
 -620  -584  -129  -450     -1486  -1664  -1970
 -595  -807  -187  -341  …  -1672  -1441  -2113
 -407  -386    71  -216      -993  -1146  -1466
 -490  -475   -17  -310      -861  -1011  -1332
 -540  -555   -79  -359     -1077   -973  -1508
 -437  -394    60  -263     -1051  -1232  -1541
 -721  -692  -239  -536  …  -1681  -1838  -2151
 -646  -597  -145  -460     -1119  -1298  -1602
 -468  -411    32  -295      -224   -411   -695
 -855  -792  -354  -686     -1584  -1782  -2065

julia&gt; eeg[[:fp1, 2, :fz, :o1, :cz], TimeSpan(Minute(20), duration(eeg))]
Samples (00:23:11.062500000):
  signal.channel_names: [:fp1, :f3, :fz, :o1, :cz]
  signal.sample_unit: :microvolt
  signal.sample_resolution_in_unit: 0.25
  signal.sample_type: Int16
  signal.sample_rate: 128 Hz
  signal.file_extension: :zst
  signal.file_options: nothing
  encoded: true
  data:
5×178056 Array{Int16,2}:
 -326    69   154  -281   …   -164   -318   -644
 -596  -204  -109  -543      -1665  -1805  -2139
 -472   -59    19  -422      -1439  -1602  -1924
 -453   -17    31  -418         68   -141   -435
 -797  -373  -306  -748      -1486  -1664  -1970</code></pre><p>See also: <a href="#Onda.encode"><code>encode</code></a>, <a href="#Onda.encode!"><code>encode!</code></a>, <a href="#Onda.decode"><code>decode</code></a>, <a href="#Onda.decode!"><code>decode!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L5-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.channel" href="#Onda.channel"><code>Onda.channel</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">channel(signal::Signal, name::Symbol)</code></pre><p>Return <code>i</code> where <code>signal.channel_names[i] == name</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/recordings.jl#L153-L157">source</a></section><section><div><pre><code class="language-none">channel(signal::Signal, i::Integer)</code></pre><p>Return <code>signal.channel_names[i]</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/recordings.jl#L160-L164">source</a></section><section><div><pre><code class="language-none">channel(samples::Samples, name::Symbol)</code></pre><p>Return <code>channel(samples.signal, name)</code>.</p><p>This function is useful for indexing rows of <code>samples.data</code> by channel names.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L122-L128">source</a></section><section><div><pre><code class="language-none">channel(samples::Samples, i::Integer)</code></pre><p>Return <code>channel(samples.signal, i)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L131-L135">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.channel_count" href="#Onda.channel_count"><code>Onda.channel_count</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">channel_count(signal::Signal)</code></pre><p>Return <code>length(signal.channel_names)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/recordings.jl#L167-L171">source</a></section><section><div><pre><code class="language-none">channel_count(samples::Samples)</code></pre><p>Return <code>channel_count(samples.signal)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L145-L149">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.sample_count" href="#Onda.sample_count"><code>Onda.sample_count</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">sample_count(samples::Samples)</code></pre><p>Return the number of multichannel samples in <code>samples</code> (i.e. <code>size(samples.data, 2)</code>)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L152-L156">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.encode" href="#Onda.encode"><code>Onda.encode</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">encode(sample_type::DataType, sample_resolution_in_unit, samples, dither_storage=nothing)</code></pre><p>Return a copy of <code>samples</code> quantized according to <code>sample_type</code> and <code>sample_resolution_in_unit</code>. <code>sample_type</code> must be a concrete subtype of <code>Onda.VALID_SAMPLE_TYPE_UNION</code>. Quantization of an individual sample <code>s</code> is performed via:</p><pre><code class="language-none">round(S, s / sample_resolution_in_unit)</code></pre><p>with additional special casing to clip values exceeding the encoding&#39;s dynamic range.</p><p>If <code>dither_storage isa Nothing</code>, no dithering is applied before quantization.</p><p>If <code>dither_storage isa Missing</code>, dither storage is allocated automatically and triangular dithering is applied to the signal prior to quantization.</p><p>Otherwise, <code>dither_storage</code> must be a container of similar shape and type to <code>samples</code>. This container is then used to store the random noise needed for the triangular dithering process, which is applied to the signal prior to quantization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L194-L213">source</a></section><section><div><pre><code class="language-none">encode(samples::Samples, dither_storage=nothing)</code></pre><p>If <code>samples.encoded</code> is <code>false</code>, return a <code>Samples</code> instance that wraps:</p><pre><code class="language-none">encode(samples.signal.sample_type,
       samples.signal.sample_resolution_in_unit,
       samples.data, dither_storage)</code></pre><p>If <code>samples.encoded</code> is <code>true</code>, this function is the identity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L245-L255">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.encode!" href="#Onda.encode!"><code>Onda.encode!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">encode!(result_storage, sample_type::DataType, sample_resolution_in_unit, samples, dither_storage=nothing)
encode!(result_storage, sample_resolution_in_unit, samples, dither_storage=nothing)</code></pre><p>Similar to <code>encode(sample_type, sample_resolution_in_unit, samples, dither_storage)</code>, but write encoded values to <code>result_storage</code> rather than allocating new storage.</p><p><code>sample_type</code> defaults to <code>eltype(result_storage)</code> if it is not provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L218-L226">source</a></section><section><div><pre><code class="language-none">encode!(result_storage, samples::Samples, dither_storage=nothing)</code></pre><p>If <code>samples.encoded</code> is <code>false</code>, return a <code>Samples</code> instance that wraps:</p><pre><code class="language-none">encode!(result_storage,
        samples.signal.sample_type,
        samples.signal.sample_resolution_in_unit,
        samples.data, dither_storage)`.</code></pre><p>If <code>samples.encoded</code> is <code>true</code>, return a <code>Samples</code> instance that wraps <code>copyto!(result_storage, samples.data)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L264-L276">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.decode" href="#Onda.decode"><code>Onda.decode</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">decode(sample_resolution_in_unit, samples)</code></pre><p>Return <code>sample_resolution_in_unit .* samples</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L292-L296">source</a></section><section><div><pre><code class="language-none">decode(samples::Samples)</code></pre><p>If <code>samples.encoded</code> is <code>true</code>, return a <code>Samples</code> instance that wraps <code>decode(samples.signal.sample_resolution_in_unit, samples.data)</code>.</p><p>If <code>samples.encoded</code> is <code>false</code>, this function is the identity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L309-L316">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.decode!" href="#Onda.decode!"><code>Onda.decode!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">decode!(result_storage, sample_resolution_in_unit, samples)</code></pre><p>Similar to <code>decode(sample_resolution_in_unit, samples)</code>, but write decoded values to <code>result_storage</code> rather than allocating new storage.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L299-L304">source</a></section><section><div><pre><code class="language-none">decode!(result_storage, samples::Samples)</code></pre><p>If <code>samples.encoded</code> is <code>true</code>, return a <code>Samples</code> instance that wraps <code>decode!(result_storage, samples.signal.sample_resolution_in_unit, samples.data)</code>.</p><p>If <code>samples.encoded</code> is <code>false</code>, return a <code>Samples</code> instance that wraps <code>copyto!(result_storage, samples.data)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L323-L331">source</a></section></article><h2 id="AbstractTimeSpan-1"><a class="docs-heading-anchor" href="#AbstractTimeSpan-1"><code>AbstractTimeSpan</code></a><a class="docs-heading-anchor-permalink" href="#AbstractTimeSpan-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Onda.AbstractTimeSpan" href="#Onda.AbstractTimeSpan"><code>Onda.AbstractTimeSpan</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">AbstractTimeSpan</code></pre><p>A type repesenting a continuous, inclusive span between two points in time.</p><p>All subtypes of <code>AbstractTimeSpan</code> must implement:</p><ul><li><code>first(::AbstractTimeSpan)::Nanosecond</code>: return the first nanosecond contained in <code>span</code></li><li><code>last(::AbstractTimeSpan)::Nanosecond</code>: return the last nanosecond contained in <code>span</code></li></ul><p>For convenience, many Onda functions that accept <code>AbstractTimeSpan</code> values also accept <code>Dates.Period</code> values.</p><p>See also: <a href="#Onda.TimeSpan"><code>TimeSpan</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/timespans.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.TimeSpan" href="#Onda.TimeSpan"><code>Onda.TimeSpan</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">TimeSpan(first, last)</code></pre><p>Return <code>TimeSpan(Nanosecond(first), Nanosecond(last))::AbstractTimeSpan</code>.</p><p>See also: <a href="#Onda.AbstractTimeSpan"><code>AbstractTimeSpan</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/timespans.jl#L26-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.contains" href="#Onda.contains"><code>Onda.contains</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">contains(a, b)</code></pre><p>Return <code>true</code> if the timespan <code>b</code> lies entirely within the timespan <code>a</code>, return <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/timespans.jl#L60-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.overlaps" href="#Onda.overlaps"><code>Onda.overlaps</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">overlaps(a, b)</code></pre><p>Return <code>true</code> if the timespan <code>a</code> and the timespan <code>b</code> overlap, return <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/timespans.jl#L70-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.shortest_timespan_containing" href="#Onda.shortest_timespan_containing"><code>Onda.shortest_timespan_containing</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">shortest_timespan_containing(spans)</code></pre><p>Return the shortest possible <code>TimeSpan</code> containing all timespans in <code>spans</code>.</p><p><code>spans</code> is assumed to be an iterable of timespans.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/timespans.jl#L81-L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.duration" href="#Onda.duration"><code>Onda.duration</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">duration(span)</code></pre><p>Return the duration of <code>span</code> as a <code>Period</code>.</p><p>For <code>span::AbstractTimeSpan</code>, this is equivalent to <code>last(span) - first(span)</code>.</p><p>For <code>span::Period</code>, this function is the identity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/timespans.jl#L98-L106">source</a></section><section><div><pre><code class="language-none">duration(recording::Recording)</code></pre><p>Returns <code>recording.duration_in_nanoseconds</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/recordings.jl#L209-L213">source</a></section><section><div><pre><code class="language-none">duration(samples::Samples)</code></pre><p>Returns the <code>Nanosecond</code> value for which <code>samples[TimeSpan(0, duration(samples))] == samples.data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/samples.jl#L138-L142">source</a></section></article><h2 id="Serialization-1"><a class="docs-heading-anchor" href="#Serialization-1">Serialization</a><a class="docs-heading-anchor-permalink" href="#Serialization-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Onda.AbstractLPCMSerializer" href="#Onda.AbstractLPCMSerializer"><code>Onda.AbstractLPCMSerializer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">AbstractLPCMSerializer</code></pre><p>A type whose subtypes support:</p><ul><li><a href="#Onda.deserialize_lpcm"><code>deserialize_lpcm</code></a></li><li><a href="#Onda.serialize_lpcm"><code>serialize_lpcm</code></a></li></ul><p>All definitions of subtypes of the form <code>S&lt;:AbstractLPCMSerializer</code> must also support a constructor of the form <code>S(::Signal)</code>.</p><p>Authors should additionally call <code>register_file_extension_for_serializer</code> to register their new serializer with Onda&#39;s internal global file extension -&gt; serializer type map.</p><p>See also: <a href="#Onda.serializer"><code>serializer</code></a>, <a href="#Onda.LPCM"><code>LPCM</code></a>, <a href="#Onda.LPCMZst"><code>LPCMZst</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/serialization.jl#L5-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.serializer" href="#Onda.serializer"><code>Onda.serializer</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">serializer(signal::Signal)</code></pre><p>Return <code>S(signal)</code> where <code>S</code> is the <code>AbstractLPCMSerializer</code> that corresponds to <code>signal.file_extension</code> (as determined by the serializer author via <code>register_file_extension_for_serializer</code>).</p><p>See also: <a href="#Onda.deserialize_lpcm"><code>deserialize_lpcm</code></a>, <a href="#Onda.serialize_lpcm"><code>serialize_lpcm</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/serialization.jl#L35-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.deserialize_lpcm" href="#Onda.deserialize_lpcm"><code>Onda.deserialize_lpcm</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">deserialize_lpcm(bytes, serializer::AbstractLPCMSerializer)</code></pre><p>Return a channels-by-timesteps <code>AbstractMatrix</code> of interleaved LPCM-encoded sample data by deserializing the provided <code>bytes</code> from the given <code>serializer</code>.</p><p>Note that this operation may be performed in a zero-copy manner such that the returned sample matrix directly aliases <code>bytes</code>.</p><p>This function is the inverse of the corresponding <a href="#Onda.serialize_lpcm"><code>serialize_lpcm</code></a> method, i.e.:</p><pre><code class="language-none">serialize_lpcm(deserialize_lpcm(bytes, serializer), serializer) == bytes</code></pre><pre><code class="language-none">deserialize_lpcm(bytes, serializer::AbstractLPCMSerializer, sample_offset, sample_count)</code></pre><p>Similar to <code>deserialize_lpcm(bytes, serializer)</code>, but deserialize only the segment requested via <code>sample_offset</code> and <code>sample_count</code>.</p><pre><code class="language-none">deserialize_lpcm(io::IO, serializer::AbstractLPCMSerializer[, sample_offset, sample_count])</code></pre><p>Similar to the corresponding <code>deserialize_lpcm(bytes, ...)</code> methods, but the bytes to be deserialized are read directly from <code>io</code>.</p><p>If <code>sample_offset</code>/<code>sample_count</code> is provided and <code>io</code>/<code>serializer</code> support seeking, implementations of this method may read only the bytes required to extract the requested segment instead of reading the entire stream.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/serialization.jl#L46-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.serialize_lpcm" href="#Onda.serialize_lpcm"><code>Onda.serialize_lpcm</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">serialize_lpcm(samples::AbstractMatrix, serializer::AbstractLPCMSerializer)</code></pre><p>Return the <code>AbstractVector{UInt8}</code> of bytes that results from serializing <code>samples</code> to the given <code>serializer</code>, where <code>samples</code> is a channels-by-timesteps matrix of interleaved LPCM-encoded sample data.</p><p>Note that this operation may be performed in a zero-copy manner such that the returned <code>AbstractVector{UInt8}</code> directly aliases <code>samples</code>.</p><p>This function is the inverse of the corresponding <a href="#Onda.deserialize_lpcm"><code>deserialize_lpcm</code></a> method, i.e.:</p><pre><code class="language-none">deserialize_lpcm(serialize_lpcm(samples, serializer), serializer) == samples</code></pre><pre><code class="language-none">serialize_lpcm(io::IO, samples::AbstractMatrix, serializer::AbstractLPCMSerializer)</code></pre><p>Similar to the corresponding <code>serialize_lpcm(samples, serializer)</code> method, but serializes directly to <code>io</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/serialization.jl#L78-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.LPCM" href="#Onda.LPCM"><code>Onda.LPCM</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LPCM{S}(channel_count)
LPCM(signal::Signal)</code></pre><p>Return a <code>LPCM&lt;:AbstractLPCMSerializer</code> instance corresponding to Onda&#39;s default interleaved LPCM format assumed for signal files with the &quot;.lpcm&quot; extension.</p><p><code>S</code> corresponds to <code>signal.sample_type</code>, while <code>channel_count</code> corresponds to <code>signal.channel_names</code>.</p><p>Note that bytes (de)serialized via this serializer are little-endian per the Onda specification.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/serialization.jl#L129-L141">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Onda.LPCMZst" href="#Onda.LPCMZst"><code>Onda.LPCMZst</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LPCMZst(lpcm::LPCM; level=3)
LPCMZst(signal::Signal)</code></pre><p>Return a <code>LPCMZst&lt;:AbstractLPCMSerializer</code> instance that corresponds to Onda&#39;s default interleaved LPCM format compressed by <code>zstd</code>. This serializer is assumed for signal files with the &quot;.lpcm.zst&quot; extension.</p><p>The <code>level</code> keyword argument sets the same compression level parameter as the corresponding flag documented by the <code>zstd</code> command line utility.</p><p>See https://facebook.github.io/zstd/ for details about <code>zstd</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/beacon-biosignals/Onda.jl/blob/0454698f61201df40e18dbb46b68dedf3bcb3ef1/src/serialization.jl#L188-L200">source</a></section></article></article></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 30 December 2019 14:33">Monday 30 December 2019</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
